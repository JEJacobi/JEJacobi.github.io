var typeTargets,typeData,currentTarget,typed,typeText,retypeTarget,retypeNext,retypeTyped,retypeOriginal,retypeData,untype,hoverTargets;const themeToggle=document.querySelector(".theme-toggle"),chosenTheme=window.localStorage&&window.localStorage.getItem("theme"),chosenThemeIsDark=chosenTheme=="dark",chosenThemeIsLight=chosenTheme=="light";function detectOSColorTheme(){chosenThemeIsDark?document.documentElement.setAttribute("data-theme","dark"):chosenThemeIsLight?document.documentElement.setAttribute("data-theme","light"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}function switchTheme(a){chosenThemeIsDark?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),detectOSColorTheme(),window.location.reload()}themeToggle?(themeToggle.addEventListener("click",switchTheme,!1),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>a.matches&&detectOSColorTheme()),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",a=>a.matches&&detectOSColorTheme()),detectOSColorTheme()):localStorage.removeItem("theme");const menuTrigger=document.querySelector(".menu-trigger"),menu=document.querySelector(".menu"),mobileQuery=getComputedStyle(document.body).getPropertyValue("--phoneWidth"),isMobile=()=>window.matchMedia(mobileQuery).matches,isMobileMenu=()=>{menuTrigger&&menuTrigger.classList.toggle("hidden",!isMobile()),menu&&menu.classList.toggle("hidden",isMobile())};isMobileMenu(),menuTrigger&&menuTrigger.addEventListener("click",()=>menu&&menu.classList.toggle("hidden")),window.addEventListener("resize",isMobileMenu);const typeMinDelay=75,typeMaxDelay=180,headerModifier=.5,retypeDelayModifier=50,retypeDeleteTime=80,retypeStartMin=1200,retypeStartMax=12e3;typeTargets=document.getElementsByClassName('typewrite'),typeData=[],currentTarget=0,typed=0,typeText='',retypeTarget=document.getElementById('retypewrite'),retypeNext='',retypeTyped=0,retypeOriginal='',retypeData=[],untype=!1,hoverTargets=document.getElementsByClassName('logo_link');for(let a=0;a<hoverTargets.length;a++)hoverTargets[a].classList.remove('hover-logo');for(let a=0;a<typeTargets.length;a++)typeData[a]=typeTargets[a].innerHTML.replace(/[\n\r]/g,''),typeTargets[a].style.width=typeTargets[a].offsetWidth,typeTargets[a].style.height=typeTargets[a].offsetHeight,typeTargets[a].innerHTML='';typewrite();function typewrite(){if(typeTargets[currentTarget].innerHTML===typeData[currentTarget]){if(++currentTarget,typed=0,typeText='',currentTarget>0)for(let a=0;a<hoverTargets.length;a++)hoverTargets[a].classList.add('hover-logo');if(typeTargets[currentTarget]===void 0){checkRetype()&&startRetype();return}}let a=typeData[currentTarget],b=!1,c=randRange(typeMinDelay,typeMaxDelay);currentTarget===0&&(c*=headerModifier);do a[typed]==='>'&&(b=!1),(a[typed]==='<'||a[typed+1]==='<')&&(b=!0),typeText+=a[typed++];while(b)typeTargets[currentTarget].innerHTML=typeText,setTimeout(typewrite,c)}function retype(){let a=randRange(typeMinDelay,typeMaxDelay);if(untype)retypeTarget.innerHTML.length>0?(retypeTarget.innerHTML=retypeTarget.innerHTML.slice(0,-1),a=retypeDeleteTime):untype=!1;else if(retypeNext=='')retypeData.length>0?retypeNext=retypeData.pop():retypeNext=retypeOriginal,retypeTyped=0;else if(retypeTyped>retypeNext.length){if(retypeNext===retypeOriginal){console.log("Retype finished.");return}untype=!0,retypeNext='',a*=retypeDelayModifier}else retypeTarget.innerHTML=retypeNext.slice(0,retypeTyped++);setTimeout(retype,a)}function startRetype(){var a=new XMLHttpRequest;a.open("GET",retypeTarget.dataset.source,!0),a.onreadystatechange=function(){this.readyState===4&&(this.status===200?loadRetype(JSON.parse(this.responseText)):console.log("Error while loading retypewrite data: "+this.status))},a.send()}function loadRetype(a){console.log("Loaded ["+a.length+"] items to retype."),retypeData=a.map(a=>({value:a,sort:Math.random()})).sort((a,b)=>a.sort-b.sort).map(({value:a})=>a),retypeOriginal=retypeTarget.innerHTML,untype=!0,setTimeout(retype,randRange(retypeStartMin,retypeStartMax))}function checkRetype(){return retypeTarget!==null&&retypeTarget.dataset.source!==null}function randRange(a,b){return Math.random()*(b-a)+a}